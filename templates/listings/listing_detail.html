{% extends "base.html" %}
{% load humanize %}
{% block title %}{{ object.title }} - ìƒì„¸ë³´ê¸°{% endblock %}

{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

<div class="container">
  <div class="glass" style="padding:24px;max-width:900px;margin:0 auto;">
    <h2 style="margin:0 0 6px 0;padding: 7px; font-size: 24px;font-weight: 700;">{{ object.title }}</h2>
    
    <div class="swiper" style="width:100%;overflow:hidden;border-radius:24px;">
      <div class="swiper-wrapper">

        {% if object.image %}
        <div class="swiper-slide">
          <img src="{{ object.image.url }}" style="width:100%;object-fit:cover;max-height:520px;">
        </div>
        {% endif %}

        {% if object.capture_image %}
        <div class="swiper-slide">
          <img src="{{ object.capture_image.url }}" style="width:100%;object-fit:cover;max-height:520px;">
        </div>
        {% endif %}

      </div>


      <!-- í˜ì´ì§• -->
      <div class="swiper-pagination"></div>
    </div>

    <div style="display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin-top:16px;justify-content: space-between;margin-bottom: 12px;">
      <p style="font-size:18px;font-weight:600;margin:0;">{{ object.price|intcomma }} ì›</p>
      <span style="color:gray;">íŒë§¤ì: {{ object.seller.username }}</span>
    </div>

    <div class="used-price" style="font-size:12px;font-weight:600;margin-top:5px;">      
      {% if object.used_low_price %}
        AI íƒìƒ‰ ì¤‘ê³ ê°€ : {{ object.used_low_price|intcomma }} ì›
      {% endif %}
    </div>

    <div style="margin-top:16px;">{{ object.description|linebreaks }}</div>
  </div>
</div>

{% if request.user != object.seller %}
<a href="{% url 'chat:chat_room_create' object.id %}" class="btn">ğŸ’¬ íŒë§¤ìì™€ ëŒ€í™”í•˜ê¸°</a>
{% endif %}

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  const swiper = new Swiper('.swiper', {
    loop: true,              // ğŸ” ë¬´í•œ ë°˜ë³µ
    speed: 800,            // ìŠ¬ë¼ì´ë“œ ì „í™˜ ì†ë„
    autoplay: {
      delay: 2500,          // ìë™ ìŠ¬ë¼ì´ë“œ ì‹œê°„
      disableOnInteraction: false,
    },
    pagination: {
      el: '.swiper-pagination',
      clickable: true
    },    
  });
</script>

{% endblock %}
