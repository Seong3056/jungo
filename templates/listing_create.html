{% extends "base.html" %}
{% load static %}
{% block title %}상품 등록{% endblock %}

{% block content %}
<div class="container">
  <div class="glass" style="max-width:700px;margin:40px auto;padding:30px;border-radius:20px;">
    <h2 style="font-weight:700;margin-bottom:20px;">상품 등록</h2>

    {% if form.errors %}
      <div style="color:#ff6b6b;background:rgba(255,0,0,0.1);padding:10px;border-radius:8px;margin-bottom:16px;">
        {{ form.errors }}
      </div>
    {% endif %}

    <form method="post" enctype="multipart/form-data" action="{% url 'listing_create' %}">
      {% csrf_token %}

      <div id="preview-container" style="display:flex;gap:8px;margin-bottom:12px;"></div>

      <div style="display:grid;gap:14px;">
        <label>제목<br>{{ form.title }}</label>
        <label>가격<br>{{ form.price }}</label>
        <label>설명<br>{{ form.description }}</label>
        <label>상태<br>{{ form.status }}</label>
        <label>이미지<br>{{ form.image }}</label>
      </div>

      <div style="display:flex;gap:10px;margin-top:20px;">
        <button type="submit" class="glass-btn">등록하기</button>
        <a href="{% url 'listing_list' %}" class="glass-btn" style="background:rgba(255,255,255,0.2);">취소</a>
      </div>
    </form>
  </div>
</div>


{% endblock %}

{% block scripts %}
  {{ block.super }}
  <script src="{% static 'js/listing_create.js' %}" defer></script>
{% endblock %}
